var util = require('util');

require('colors');

var _ = require('lodash');
var yahooFinance = require('../..');

var FIELDS = _.flatten([
  // Pricing
  ['a', 'b'],
  // Dividends
  ['y', 'd', 'r1', 'q'],
  // Date',
  ['c1', 'c', 'c6', 'k2', 'p2', 'd1', 'd2', 't1']
  // Averages

]);

var SYMBOLS = [
'OLED',
'UEIC',
'UFPI',
'USAP',
'UACL',
'UVSP',
'UPIP',
'UPLD',
'URRE',
'URBN',
'ECOL',
'DTYS',
'DTYL',
'DTUS',
'DFVS',
'FLAT',
'DLBS',
'DLBL',
'STPP',
'USAT',
'USATP',
'USAK',
'USMD',
'UTMD',
'UTIW',
'UTSI',
'VLRX',
'VALX',
'VALU',
'VNDA',
'VWOB',
'VNQI',
'VGIT',
'VCIT',
'VCLT',
'VGLT',
'VMBS',
'VNR',
'VNRAP',
'VNRBP',
'VNRCP',
'VONE',
'VONG',
'VONV',
'VTWO',
'VTWG',
'VTWV',
'VTHR',
'VCSH',
'VGSH',
'VTIP',
'BNDX',
'VXUS',
'VPCO',
'VPCOU',
'VRNS',
'VDSI',
'VBLT',
'VASC',
'VBIV',
'WOOF',
'VECO',
'APPY',
'VRA',
'VCYT',
'VSTM',
'VCEL',
'VRNT',
'VRSN',
'VRSK',
'VBTX',
'VRML',
'VSAR',
'VTNR',
'VRTX',
'VRTA',
'VRTB',
'VIA',
'VIAB',
'VSAT',
'VIAV',
'VICL',
'VICR',
'CIZ',
'CID',
'CIL',
'CFO',
'CFA',
'CSF',
'CDC',
'CDL',
'CSB',
'CSA',
'VBND',
'VUSE',
'VIDI',
'VDTH',
'VGGL',
'VKTX',
'VBFC',
'VLGEA',
'VIMC',
'VIP',
'VNOM',
'VIRC',
'VA',
'VIRT',
'VSCP',
'VRTS',
'VRTU',
'VISN',
'VTAE',
'VTL',
'VVUS',
'VIIZ',
'VIIX',
'VOD',
'VLTC',
'VOXX',
'VYGR',
'VRNG',
'VSEC',
'VTVT',
'VUZI',
'VWR',
'WGBS',
'WBA',
'WRES',
'WAFD',
'WAFDW',
'WASH',
'WFBI',
'WSBF',
'WVE',
'WAVX',
'WNFM',
'WAYN',
'WSTG',
'WDFC',
'FLAG',
'WEB',
'WBMD',
'WB',
'WEBK',
'WEN',
'WERN',
'WSBC',
'WTBA',
'WSTC',
'WMAR',
'WABC',
'WBB',
'WSTL',
'WDC',
'WFD',
'WLB',
'WPRT',
'WEYS',
'WHLR',
'WHLRP',
'WHLRW',
'WHF',
'WHFBL',
'WFM',
'WILN',
'WHLM',
'WVVI',
'WVVIP',
'WLDN',
'WLFC',
'WIBC',
'WIN',
'WING',
'WINA',
'WINS',
'WTFC',
'WTFCM',
'WTFCW',
'AGND',
'AGZD',
'HYND',
'HYZD',
'CXSE',
'EMCG',
'EMCB',
'DGRE',
'DXGE',
'WETF',
'DXJS',
'JGBB',
'DXKW',
'GULF',
'CRDT',
'DGRW',
'DGRS',
'DXPS',
'UBND',
'WIX',
'WLRH',
'WLRHU',
'WLRHW',
'WMIH',
'WBKC',
'WWD',
'WRLD',
'WOWO',
'WPCS',
'WPPGY',
'WMGI',
'WMGIZ',
'WSFS',
'WSFSL',
'WSCI',
'WVFC',
'WYNN',
'XBIT',
'XELB',
'XCRA',
'XNCR',
'XBKS',
'XENE',
'XNPT',
'XGTI',
'XGTIW',
'XLNX',
'XOMA',
'XPLR',
'XCOM',
'XTLB',
'XNET',
'MESG',
'YHOO',
'YNDX',
'YOD',
'YCB',
'YRCW',
'YECO',
'YY',
'ZFGN',
'ZAGG',
'ZAIS',
'ZBRA',
'ZLTQ',
'ZHNE',
'Z',
'ZG',
'ZN',
'ZNWAA',
'ZION',
'ZIONW',
'ZIONZ',
'ZIOP',
'ZIXI',
'ZGNX',
'ZSAN',
'ZSPH',
'ZUMZ',
'ZYNE',
'ZNGA'];

yahooFinance.snapshot({
  fields: FIELDS,
  symbols: SYMBOLS
}, function (err, result) {
  if (err) { throw err; }
  _.each(result, function (snapshot, symbol) {
    console.log(util.format(',=== %s ===', symbol).cyan);
    console.log(JSON.stringify(snapshot, null, 2));
  });
});
